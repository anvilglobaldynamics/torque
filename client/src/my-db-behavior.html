<link rel="import" href="../bower_components/atomicdb/atomicdb.html">
<script>
  if (!window.MyDbBehavior) {
    /* @polymerMixin */
    MyDbBehavior = (SuperClass) => class extends SuperClass {

      constructor(...args) {
        super(...args);
      }

      setCurrentUserToDb({ email, apiKey, warning, sessionId }) {
        let db = this.db || this.app.db;
        let user = {
          which: 'only',
          email,
          apiKey,
          warning,
          sessionId
        }
        db.upsert('user', (({ which }) => which === 'only'), (doc => user), user);
      }

      getCurrentUserFromDb() {

      }

    }
  }

</script>